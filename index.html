<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>METINET - Cif</title>

		<meta name="description" content="Présentation du Contrat Individuel de Formation - LP Metinet, communication">
		<meta name="author" content="TREBOUVIL Fabien">
		<meta name="author" content="ZULIANI Claire">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal-zul.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
	

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<div class="slides">

			<!-- Introduction -->
				<section>
					<h1 class="big-title">Le congé individuel </br>de formation 
					 (CIF)</h1>
					<p>
						<small>Fabien Trébouvil</small> </br>
						<small>Claire Zuliani</small>
					</p>
				</section>

				<section>
					<h2>Sommaire</h2>
					<ul>
						<li>I. Le CIF, c'est quoi ?</li>
						<li>II. Demander un CIF</li>
						<li>III. Et une fois le CIF obtenu ?</li>
					</ul>
				</section>

			<!-- Studio HB -->
				<section data-background="#006666">
					<h1>I. Studio HB, une agence web spécialisée</h2>
					<ul>
						<li>A. Rapide historique d'une agence web...</li>
						<li>B. ... spécialisée en Ruby on Rails</li>
						<li>C. ... spécialisée en méthodologies agiles</li>
					</ul>
				</section>
				<section data-background="#006666">
					<h2>A. Rapide historique</h2>
					<ul>
						<li>Fondateurs : Denis Huentz / Julien Blanc (2005)</li>
						<li>Du print au web</li>
						<li>Aujourd'hui : 4 employés</li>
					</ul>
				</section>
				<section data-background="#006666">
					<h2>Organigramme</h2>
					<a class="image" href="#" target="_blank">
						<img width="700" src="img/organigramme.png" alt="Organigramme">
					</a>
				</section>
				<section data-background="#006666" >
					<h2>B. Une agence spécialisée Ruby on Rails</h2>
					<ul>
						<li>Ruby ? Rails ? </li>
						<li>2 principes fondateurs
							<ul>
								<li> Don't repeat Yourself </li>
								<li> Convention over configuration </li>
							</ul>
						</li>
					</ul>
				</section>
				<section data-background="#006666" >
					<h2>C. Une agence spécialisée en méthodologies agiles</h2>
					<ul>
						<li> Objectif : assurer le meilleur service possible </li>
						<li> Un rythme itératif par modules </li>
					</ul>
				</section>
			<!-- Projets -->
				<section data-background="#AA0400">
					<h1>II. Réalisations : un site web principal parmi une multitude de projets</h2>
					<ul>
						<li>A. Vue d'ensemble des réalisations</li>
						<li>B. L'imbrication de modèles dans Ruby on Rails :
						</br> l'exemple du module Destination dans le projet Ehpad Invest</li>
					</ul>
				</section>
				<section data-background="#CC0400">
					<h2>A. Vue d'ensemble des réalisations</h2>
					<ul>
						<li> 1. Une multitude de projets, entre réalisations et contributions</li>
						<li> 2. Un projet principal : Ehpad-Invest</li>
					</ul>
				</section>
				<section data-background="#CC0400">
					<h3> 1.a. Réalisation : Debrousse</h3>
					<img width="600" src="img/debrousse-home.png" alt="Debrousse">
					<p>  </p>
				</section>
				<section data-background="#CC0400">
					<h3> 1.b. "Réalisation" : La Blonde et la Brune</h3>
					<img width="600" src="img/bb-diag.png" alt="Blonde et Brune">
					<p>  </p>
				</section>
				<section data-background="#CC0400">
					<h3> 1.c. Contribution : Limouzi </h3>
					<img width="600" src="img/limouzi-home.png" alt="Limouzi">
				</section>
				<section data-background="#CC0400">
					<h3> 1.d. Contribution : Face-Sud, le blog </h3>
					<img width="600" src="img/face-sud-home.png" alt="Face-Sud">
				</section>
				<section data-background="#CC0400">
					<h3> 1.e. Autres contributions </h3>
					<ul>
						<li> Financ'île </li>
						<li> Portail crédit Financ'île  </li>
						<li> Portail 6e sens </li>
					</ul>
				</section>
				<section data-background="#CC0400">
					<h3> 1.f. Réalisation : Ehpad Invest</h3>
					<img width="600" src="img/ehpad-invest-home.png" alt="Ehpad Invest">
					<p>  </p>
				</section>
				<section data-background="#CC0400">
					<h2>2. Un projet principal : Ehpad Invest</h2>
					<ul>
						<li> Informer sur l'investissement immobilier </li>
						<li> Un site simple aux modules variés </li>
						<li> Un site centré sur la destination des investissements </li>
					</ul>
				</section>

			<!-- Point technique -->	
				<section data-background="#AA0400" >
					<h2>B. L'imbrication de modèles dans Ruby on Rails</h2>
					<ul>
						<li>1. Le module Destination</li>
						<li>2. Problématiques du module Destination</li>
						<li>3. Résultat </li>
					</ul>
				</section>
				<section data-background="#AA0400" >
					<h2>1.a. Ehpad Invest - diagramme de classe</h2>
					<img  src="img/ehpad-diag.png" alt="Ehpad Invest">
				</section>
				<section data-background="#AA0400" >
					<h2> 1.b. Le module Destination </h2>
					<ul>
						<li> Un module central, à la structure fixe</li>
						<li> Un module comprenant 3 sous-sections </li>
						<li> L'éclatement des pages pour un meilleur référencement </li>
					</ul>
				</section>
				

				<section data-background="#AA0400" >
					<h2> 2. Problématiques de développement </h2>
					<ul>
						<li> a. Comment distinguer des sous-sections fortement liées ?</li>
						<li> b. Comment rendre la distinction transparente à l'administrateur ?</li>
					</ul>
				</section>
				<section data-background="#AA0400" >
					<h2>2.a. Distinguer et lier les sous-sections : associations et callbacks </h2>
					<img width="800" src="img/ehpad-dest-evol-diag.png" alt="Ehpad Invest">
				</section>
				<section data-background="#AA0400" >
					<h2>2.a. Distinguer et lier les sous-sections : associations et callbacks </h2>
					</br>
					<p>Définir la relation entre Destination et DestinationContent : 
						</br> associations <code>belongs_to</code> et  <code>has_many</code>
					</p>
				</br>
					<pre><code data-trim class="ruby">
					class Destination < ActiveRecord::Base

  has_many :destination_contents, -> { order('destination_contents.title') }, dependent: :destroy


class DestinationContent< ActiveRecord::Base

  belongs_to :destination
  				</code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 2.a. Distinguer et lier les sous-sections : associations et callbacks </h2>
					</br>
					<p>Créer automatiquement </br>les 3 DestinationContent de chaque Destination : 
						</br> les <code>callbacks</code>
					</p>
				</br>
					<pre><code data-trim class="ruby">
					class DestinationContent< ActiveRecord::Base

  SUB_TYPES = { definition: "Définition", market: "Marché", taxation: "Fiscalité"}

 					</code></pre>

				</section>
				<section data-background="#AA0400" >
					<h2> 2.a. Distinguer et lier les sous-sections : associations et callbacks </h2>
					</br>
					<pre><code data-trim class="ruby">

class Destination < ActiveRecord::Base

  after_create :create_content

  private
  def create_content
    DestinationContent::SUB_TYPES.each do |sub_type|
      self.destination_contents << DestinationContent.new
        (sub_type: "#{sub_type.first}", title: "#{sub_type.last}")
      self.save
    end
  end
  </code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 2.b. Rendre la distinction transparente : les nested attributes </h2>
					</br>
					<p>Les <code>nested attributes</code> : </br> permettre l'imbrication et la mise à jour de deux modèles dans un seul formulaire.
					</p>
					</br>
					<pre><code data-trim class="ruby">

					class Destination < ActiveRecord::Base

  accepts_nested_attributes_for :destination_contents

  					  </code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 2.b. Rendre la distinction transparente : les nested attributes </h2>
					</br>
					<p>Formulaire utilisant les <code>nested attributes</code> :</p>
					</br>
					<pre><code data-trim class="ruby">
					= form_for @destination, as: :destination, 
url: admin_destination_path(@destination), do |f|

  = shb_text_field f, :title, "Titre"
  = shb_text_area_block f, :description, "Description"

  =f.fields_for :destination_contents do |f_contents|
    = shb_text_area_block f_contents, :title, "Titre"
    = shb_text_area_block f_contents, :description, "Description"

  =' f.submit, value: "Valider", class: "btn"

  					  </code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 2.b. Rendre la distinction transparente : les nested attributes </h2>
					</br>
					<p>Un unique contrôleur pour mettre à jour les deux modèles :</p>
					</br>
					<pre><code data-trim class="ruby">
					class Admin::DestinationsController < Admin::AreaController

 private

 def destination_params
  params.require(:destination).permit(:name, :title,:description, :slug, :seo_title, :seo_description, :seo_keywords, 
   destination_contents_attributes: [ :id, :title, :description, :video, :slug, :seo_title, :seo_description, :seo_keywords])
 end

end

  					  </code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 2.b. Rendre la distinction transparente : les nested attributes </h2>
					</br>
					<p>Un unique contrôleur pour mettre à jour les deux modèles :</p>
					</br>
					<pre><code data-trim class="ruby">
					class Admin::DestinationsController < Admin::AreaController

  def edit
    @destination = Destination.find_from_slug params[:id]
  end

  def update
    if @destination.update_attributes(destination_params)
      flash[:notice] = "La rubrique a bien été mise à jour."
      redirect_to admin_destinations_path
    else
      flash[:error] =  "Une erreur s'est produite."
      @destinations = Destination.order(:position)
      render :edit
    end
  end

  					  </code></pre>
				</section>
				<section data-background="#AA0400" >
					<h2> 3. Résultat côté "public" : </h2>
					<img width="600" src="img/ehpad_page_dest.png" alt="Ehpad Invest">
				</section>
				<section data-background="#AA0400" >
					<h2> 3. Résultat côté "administration" : </h2>
					<img width="600" src="img/ehpad-edition-dest.png" alt="Ehpad Invest">
				</section>

			<!-- BILANS -->
					<section  data-background="#AA7000">
						<h2>Bilans</h2>
						<ul>
							<li>Bilan technique</li>
							<li>Bilan humain</li>
							<li>Bilan personnel</li>
						</ul>
					</section>
					<section data-background="#AA7000">
						<h2>Bilan technique</h2>
						<ul>
							<li> La satisfaction du travail accompli</li>
							<li> L'apprentissage d'un langage et d'un framework</li>
							<li> Le bénéfice de travailler sur une multitude de projets</li>
						</ul>
					</section>
					<section data-background="#AA7000">
						<h2>Bilan humain</h2>
						<ul>
							<li> Une ambiance conviviale et professionnelle</li>
							<li> L'avantage du compagnonnage dans la progression d'un stagiaire</li>
							<li> Un regret : la relation client</li>
						</ul>
					</section>
					<section data-background="#AA7000" >
						<h2>Bilan personnel</h2>
						<ul>
							<li> Un stage décisif techniquement : l'appropriation de Ruby on Rails </li>
							<li> Un stage décisif dans mon parcours : la confirmation d'une réorientation </li>
							<li> Un stage décisif professionnellement : la poursuite de l'expérience avec Studio HB</li>
						</ul>
					</section>
				
				<section data-markdown>
					<script type="text/template">
						## Markdown support

						For those of you who like that sort of thing. Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).

						```
						<section data-markdown>
						  ## Markdown support

						  For those of you who like that sort of thing.
						  Instructions and a bit more info available [here](https://github.com/hakimel/reveal.js#markdown).
						</section>
						```
					</script>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
						function linkify( selector ) {
						  if( supports3DTransforms ) {
						    var nodes = document.querySelectorAll( selector );
						    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
						      var node = nodes[i];
						      if( !node.className ) ) {
						        node.className += ' roll';
						      }
						    };
						  }
						}
					</code></pre>
					<p>Courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

			</div>
		</div>
		<aside class="controls slide-number" ></aside>
		<script src="js/jquery.js"></script>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		
		<script>

		function currentPageFormatter(event) {
		        var formattedStr;
		        
		        if (event.indexh === 0) {
		                return "";
		        }
		 
		        formattedStr = event.indexh;
		 
		        if (event.indexv) {
		            formattedStr += "/" + event.indexv;
		        }
		 
		        return formattedStr;
		    }
		 
		    Reveal.addEventListener( 'ready', function( event ) {
		        $('<aside class="controls slide-number" style="display: block; left: 10px; right: initial;bottom: -30px; text-align: center; font-size:20px;"></aside>')
		            .text(currentPageFormatter(event))
		            .appendTo('.reveal.center');
		    } );
		 
		    // Fires each time a new slide is activated
		    Reveal.addEventListener( 'slidechanged', function( event ) {
		        // event.previousSlide, event.currentSlide, event.indexh, event.indexv
		        $(".slide-number").text(currentPageFormatter(event));
		    } );

		</script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
